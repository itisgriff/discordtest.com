name = "discord-tools-api"
main = "index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Disable preview URL in production
workers_dev = false

# Custom domain configuration
routes = [
  { pattern = "discordtest.com/api/*", zone_name = "discordtest.com" }
]

# Production environment
[env.production]
vars = { ENVIRONMENT = "production" }

# Development environment
[env.development]
vars = { ENVIRONMENT = "development" }
workers_dev = true

# Add secrets via: npx wrangler secret put DISCORD_BOT_TOKEN
# [vars]
# MY_VARIABLE = "production_value" 

# wrangler.toml (wrangler v3.88.0^)
[observability.logs]
enabled = true